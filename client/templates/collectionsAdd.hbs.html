<template name="CollectionsAdd">
    <a class="uk-modal-close uk-close"></a>
    <div class="uk-modal-header">
        <h2>Add a collection</h2>
    </div>
    <p>Use this form to create a new collection into which you can add taxa and characters. A name and brief description for the collection are required, and an optional reference can be added if the collection represents a published phylogenetic matrix.</p>

    <ul class="uk-subnav uk-subnav-pill" data-uk-switcher="{connect:'#my-id'}">
        <li><a href="">Collection</a></li>
        <li><a href="">Add Reference</a></li>
    </ul>

    <ul id="my-id" class="uk-switcher">
        <li>
            {{# autoForm class="uk-form uk-form-horizontal" collection="Collections" id="addCollectionForm" }}
                <div class="uk-form-row">
                    <label class="uk-form-label">Name</label>
                    <div class="uk-form-control">
                        {{> afFieldInput class="uk-width-1-3" name="name" placeholder="Name" }}
                        <em>{{ afFieldMessage name="name" }}</em>
                    </div>
                </div>
                <div class="uk-form-row">
                    <label class="uk-form-label">Description</label>
                    <div class="uk-form-control">
                        {{> afFieldInput class="uk-width-1-3" name="description" placeholder="Description" }}
                        <em>{{ afFieldMessage name="description" }}</em>
                    </div>
                </div>
                <div class="uk-form-row">
                    <label class="uk-form-label">Reference <small>(optional)</small></label>
                    <div class="uk-form-control">
                        {{# if isSubReady 'allReferences' }}
                        <select class="uk-width-1-3">
                            <option value="">(Select a reference)</option>
                            {{# each allReferences }}
                            <option value="{{ this._id }}">{{ this.fullName }}</option>
                            {{/ each }}
                        </select>
                        {{/ if }}
                    </div>
                </div>
                <div class="uk-modal-footer">
                    <div class="uk-form-row">
                        <button class="uk-button uk-button-primary" type="submit">Add collection</button>
                    </div>
                </div>
            {{/ autoForm }}
        </li>
        <li>
            {{# autoForm class="uk-form uk-form-horizontal" type="normal" schema=addReference id="addReferenceForm" }}
                <div class="uk-form-row">
                    <label class="uk-form-label">New reference</label>
                    <div class="uk-form-control">
                        {{> afFieldInput class="uk-width-1-3" type="textarea" name="reference" placeholder="RIS (RefMan) reference" rows=3 }}
                        <em>{{ afFieldMessage name="reference" }}</em>
                        <button class="uk-button" type="submit">Add reference</button>
                    </div>
                </div>
            {{/ autoForm }}
        </li>
    </ul>
</template>
